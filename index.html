<!DOCTYPE html>

<html>

  <head>

  <link rel="stylesheet" type="text/css" href="sf.css">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SF Emergency Dispatch</title>

  <script type="text/javascript">
	window.onload = function (){
		var chart = new CanvasJS.Chart("chartContainer", 
		{
			title:{
				text: "San Franscico Call Type Per Zip Code"
			},
			axisY:
			{
				title: "Number of Calls",
				maximum: 400
			},
			data: [
			{
				type: "bar",
				showInLegend: true,
				legendText: "Alarms",
				color: "red",
				dataPoints:[
				{y: 148, label: "94102"},
				{y: 96, label: "94103"},
				{y: 6, label: "94104"},
				{y: 60, label: "94105"},
				{y: 57, label: "94107"},
				{y: 68, label: "94108"},
				{y: 71, label: "94109"},
				{y: 75, label: "94110"},
				{y: 15, label: "94111"},
				{y: 21, label: "94112"},
				{y: 42, label: "94114"},
				{y: 66, label: "94115"},
				{y: 12, label: "94116"},
				{y: 32, label: "94117"},
				{y: 25, label: "94118"},
				{y: 29, label: "94121"},
				{y: 28, label: "94122"},
				{y: 29, label: "94123"},
				{y: 28, label: "94124"},
				{y: 3, label: "94127"},
				{y: 10, label: "94129"},
				{y: 3, label: "94130"},
				{y: 28, label: "94131"},
				{y: 31, label: "94132"},
				{y: 44, label: "94133"},
				{y: 16, label: "94134"},
				{y: 18, label: "94158"}
				]
			},
			{
				type: "bar",
				showInLegend: true,
				legendText: "Citizen Assist / Service Call",
				color: "blue",
				dataPoints: [
				{y: 14, label: "94102"},
				{y: 6, label: "94103"},
				{y: 1, label: "94104"},
				{y: 3, label: "94105"},
				{y: 7, label: "94107"},
				{y: 3, label: "94108"},
				{y: 12, label: "94109"},
				{y: 8, label: "94110"},
				{y: 0, label: "94111"},
				{y: 4, label: "94112"},
				{y: 7, label: "94114"},
				{y: 8, label: "94115"},
				{y: 4, label: "94116"},
				{y: 1, label: "94117"},
				{y: 5, label: "94118"},
				{y: 4, label: "94121"},
				{y: 3, label: "94122"},
				{y: 0, label: "94123"},
				{y: 2, label: "94124"},
				{y: 1, label: "94127"},
				{y: 0, label: "94129"},
				{y: 1, label: "94130"},
				{y: 6, label: "94131"},
				{y: 3, label: "94132"},
				{y: 7, label: "94133"},
				{y: 3, label: "94134"},
				{y: 1, label: "94158"}
				]
			},
			{
				type: "bar",
				showInLegend: true,
				legendText: "Medical Incidents",
				color: "purple",
				dataPoints:[
				{y: 948, label: "94102"},
				{y: 866, label: "94103"},
				{y: 37, label: "94104"},
				{y: 170, label: "94105"},
				{y: 258, label: "94107"},
				{y: 136, label: "94108"},
				{y: 582, label: "94109"},
				{y: 556, label: "94110"},
				{y: 125, label: "94111"},
				{y: 322, label: "94112"},
				{y: 248, label: "94114"},
				{y: 290, label: "94115"},
				{y: 172, label: "94116"},
				{y: 241, label: "94117"},
				{y: 189, label: "94118"},
				{y: 140, label: "94121"},
				{y: 222, label: "94122"},
				{y: 118, label: "94123"},
				{y: 372, label: "94124"},
				{y: 32, label: "94127"},
				{y: 15, label: "94129"},
				{y: 30, label: "94130"},
				{y: 131, label: "94131"},
				{y: 139, label: "94132"},
				{y: 229, label: "94133"},
				{y: 174, label: "94134"},
				{y: 55, label: "94158"}
				]
			},
			{
				type: "bar",
				showInLegend: true,
				legendText: "Outside Fire",
				color: "pink",
				dataPoints:[
				{y: 5, label: "94102"},
				{y: 13, label: "94103"},
				{y: 1, label: "94104"},
				{y: 3, label: "94105"},
				{y: 6, label: "94107"},
				{y: 1, label: "94108"},
				{y: 17, label: "94109"},
				{y: 26, label: "94110"},
				{y: 13, label: "94111"},
				{y: 2, label: "94112"},
				{y: 10, label: "94114"},
				{y: 4, label: "94115"},
				{y: 1, label: "94116"},
				{y: 0, label: "94117"},
				{y: 2, label: "94118"},
				{y: 7, label: "94121"},
				{y: 5, label: "94122"},
				{y: 4, label: "94123"},
				{y: 19, label: "94124"},
				{y: 0, label: "94127"},
				{y: 0, label: "94129"},
				{y: 1, label: "94130"},
				{y: 0, label: "94131"},
				{y: 1, label: "94132"},
				{y: 1, label: "94133"},
				{y: 0, label: "94134"},
				{y: 1, label: "94158"}
				]
			},
			{
				type: "bar",
				showInLegend: true,
				legendText: "Structure Fire",
				color: "yellow",
				dataPoints:[
				{y: 191, label: "94102"},
				{y: 87, label: "94103"},
				{y: 27, label: "94104"},
				{y: 13, label: "94105"},
				{y: 32, label: "94107"},
				{y: 24, label: "94108"},
				{y: 65, label: "94109"},
				{y: 56, label: "94110"},
				{y: 10, label: "94111"},
				{y: 64, label: "94112"},
				{y: 32, label: "94114"},
				{y: 48, label: "94115"},
				{y: 13, label: "94116"},
				{y: 98, label: "94117"},
				{y: 36, label: "94118"},
				{y: 13, label: "94121"},
				{y: 27, label: "94122"},
				{y: 14, label: "94123"},
				{y: 32, label: "94124"},
				{y: 50, label: "94127"},
				{y: 0, label: "94129"},
				{y: 0, label: "94130"},
				{y: 10, label: "94131"},
				{y: 10, label: "94132"},
				{y: 66, label: "94133"},
				{y: 10, label: "94134"},
				{y: 2, label: "94158"}
				]
			},
			{
				type: "bar",
				showInLegend: true,
				legendText: "Traffic Collision",
				color: "black",
				dataPoints:[
				{y: 24, label: "94102"},
				{y: 64, label: "94103"},
				{y: 0, label: "94104"},
				{y: 7, label: "94105"},
				{y: 17, label: "94107"},
				{y: 5, label: "94108"},
				{y: 19, label: "94109"},
				{y: 33, label: "94110"},
				{y: 3, label: "94111"},
				{y: 32, label: "94112"},
				{y: 13, label: "94114"},
				{y: 4, label: "94115"},
				{y: 7, label: "94116"},
				{y: 17, label: "94117"},
				{y: 15, label: "94118"},
				{y: 16, label: "94121"},
				{y: 16, label: "94122"},
				{y: 2, label: "94123"},
				{y: 25, label: "94124"},
				{y: 2, label: "94127"},
				{y: 0, label: "94129"},
				{y: 10, label: "94130"},
				{y: 24, label: "94131"},
				{y: 2, label: "94132"},
				{y: 1, label: "94133"},
				{y: 30, label: "94134"},
				{y: 14, label: "94158"}
				]
			}
			]
		});
		
		var chart2 = new CanvasJS.Chart("chartContainer2", {
			theme: "theme2",
			title:{
				text: "Breakdown of Call Types"
			},
			data: [
			{
				type: "pie",
				showInLegend: true,
				toolTipContent: "{y} - #percent %",
				yValueFormatString: "#,###",
				legendText: "{indexLabel}",
				dataPoints: [
					{ y: 2384, indexLabel: "Alarm"},
					{ y: 392, indexLabel: "Fire"},
					{ y: 2468, indexLabel: "Non Life-Threatning"},
					{ y: 4752, indexLabel: "Potentially Life-Threatning"}
				]
 			}
			]
		});
		var chart3 = new CanvasJS.Chart("chartContainer3", {
			title: {
				text: "Avg Response Time Per Zip Code (minutes)",
			},
			axisX: {
				valueFormatString: "#####",
			},
			axisY: {
				includeZero: false
			},
			data: [
			{
				type: "line",
				
				dataPoints: [
				{ x: 94102, y: 7.7428},
				{ x: 94103, y: 9.316},
				{ x: 94104, y: 9.3253},
				{ x: 94105, y: 11.952},
				{ x: 94107, y: 9.9089},
				{ x: 94108, y: 9.3183},
				{ x: 94109, y: 8.4892},
				{ x: 94110, y: 8.9309},
				{ x: 94111, y: 11.287},
				{ x: 94112, y: 9.963},
				{ x: 94114, y: 8.37999},
				{ x: 94115, y: 8.579679},
				{ x: 94116, y: 10.074},
				{ x: 94117, y: 8.330649},
				{ x: 94118, y: 8.46063},
				{ x: 94121, y: 9.626667},
				{ x: 94122, y: 3.766729},
				{ x: 94123, y: 9.0838},
				{ x: 94124, y: 10.5309},
				{ x: 94127, y: 12.16},
				{ x: 94129, y: 12.32986},
				{ x: 94130, y: 10.81828},
				{ x: 94131, y: 9.825049},
				{ x: 94132, y: 10.26243},
				{ x: 94133, y: 9.491208},
				{ x: 94134, y: 12.66458},
				{ x: 94158, y: 9.372748}
				]
			}
			]
		});
	chart.render(); /* render bar chart */
	chart2.render(); /* render pie chart */
	chart3.render(); /* render line chart */
	}
	</script>
	
  </head>

  <body>
	<!--Tab Buttons-->
	
    <button class="tablink" onclick="openPage('trends', this, '#4e118c')" id="defaultOpen">Trends/Metrics</button>
	<button class="tablink" onclick="openPage('analysis', this, '#4e118c')">Observations</button>
    <button class="tablink" onclick="openPage('stats', this, '#4e118c')">Additional Data</button>
    
	<!--Tab Content-->
	
    <div id="trends" class="tabcontent">
	
	  <!--First Tab-->
	  
	  <div id="main">
		<h1 id="header"><p>Trends</p></h1>
	  </div>
	  
	  <div id="secondary">
		<h3 id="data"><p>Number of Calls Per Zip Code</p></h3>
	  </div>
	  
	  <!--Bar Chart-->
	  <div id="chartContainer" style="height: 3000px; width: 100%;"></div>
	  <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
	  
	  <!--Extra Info about Bar Chart-->
	  
      <h4 class="heading-hazards">***NOT INCLUDED DUE TO FEW ENTRIES***</h4>
      <ol id="list-hazard" type="1">
	    <li class="list-element-hazard">Electrical Hazard</li>
	    <li class="list-element-hazard">Elevator / Escalator Rescue</li>
	    <li class="list-element-hazard">Fuel Spill</li>
	    <li class="list-element-hazard">Gas Leak (Natural and LP Gases)</li>
	    <li class="list-element-hazard">Odor (Strange / Unknown</li>
	    <li class="list-element-hazard">Other</li>
	    <li class="list-element-hazard">Smoke Investigation (Outside)</li>
	    <li class="list-element-hazard">Water Rescue</li>
	    <li class="list-element-hazard">Vehicle Fire</li>
	    <li class="list-element-hazard">Train / Rail Incident</li>
	    <li class="list-element-hazard">Hazmat</li>
       </ol>
	   
	  <h4 class="heading-hazards">***TRAIN / WATER RESCUES***</h4>
	  <ol id="list-hazard" type="1">
		<li class="list-element-hazard">Majority of Train / Rail Incidents Occured in Zip Codes: 94105 AND 94111</li>
		<li class="list-element-hazard">Majority of Water Rescues Occured in Zip Codes: 94103, 94111, 94123, 94129 AND 94134</li>
	  </ol>
	  
	  <div id="secondary">
		<h3 id="data"><p>Percentage of Call Type</p></h3>
	  </div>
	  
	  <!--Pie Chart-->
	  
	  <div id="chartContainer2" style="height: 500px; width: 100%;"></div>
	  <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
	  
	  <div id="secondary">
		<h3 id="data"><p>Avg Response Time Per Zip Code</p></h3>
	  </div>
	  
	  <!--Line Chart-->
	  
	  <div id="chartContainer3" style="height: 750px; width: 100%;"></div>
	  <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
	  
	  <!--Extra Info on Line Graph-->
	  
	<h4><strong>***NOTE***</strong></h4>
	<ul>
		<li>Calls With No On-Scene Time Not Included</li>
	</ul>
   </div>
	
	<!--Second Tab-->
	<div id="analysis" class="tabcontent">
	  <div id="main">
		<h1 id="header"><p>Observations</p></h1>
	  </div>
	  <div id="explanations">
		  <h1 class="section">high dispatch / response times areas.</h1>
		  <p class="zips">Areas That Have High Response Times: 94105, 94127, 94129, 94134</p>
		  <h2 class="reasons">Reasons for high response times</h2>
		  <p class="zips">An emergency response should take the least amount of time possible in order to save lives Each extra minute
		  it takes to respon to the scene of an emergency could mean the difference between life and death.</p>
		  <table style="width:100%">
			<tr>
			  <th>Zip Code:</th>
			  <th>Possible Reasons for High Response Times:</th>	
			  <th>How to Reduce Times</th>
			</tr>
			<tr>
			  <td>94105</td>
			  <td>Surrounded by Chinatown, the Financial Market and water making it hard to get to</td>
			  <td>Have firehouses/police stations closer to that part of town</td>
			</tr>
			<tr>
			  <td>94127</td>
			  <td>Long Twisting and turning streets could cause confusion to responders trying to locate a specific address</td>
			  <td>Having emergency responders to be familiar with the area</td>
			</tr>
			<tr>
			  <td>94129</td>
			  <td></td>
			  <td></td>
			</tr>
			<tr>
			  <td>94134</td>
			  <td></td>
			  <td></td>
			</tr>
		  </table>
	  </div>
	  <iframe src="https://www.google.com/maps/d/embed?mid=1dZc5KBdZ-beJcpRUZ39nyioOrC7ciIUP" width=100% height="500"></iframe>  
	  <div class='my-legend'>
	    <div class='legend-title'>Dispatch Locations of Each Unit</div>
		  <div class='legend-scale'>
		    <ul class='legend-labels'>
			  <li><span style='background:rgb(194,21,94);'></span>Chief</li>
			  <li><span style='background:rgb(2,136,209);'></span>Engine</li>
			  <li><span style='background:rgb(255,214,0);'></span>Investigation</li>
			  <li><span style='background:rgb(85,139,47);'></span>Medic</li>
			  <li><span style='background:rgb(189,189,189);'></span>Private</li>
	          <li><span style='background:rgb(245,124,0);'></span>Rescue Captain</li>
			  <li><span style='background:rgb(121,85,72);'></span>Rescue Squad</li>
			  <li><span style='background:rgb(175,180,43);'></span>Support</li>
		      <li><span style='background:rgb(103,58,183);'></span>Truck</li>
	        </ul>
          </div>
        </div>
	  </div>
	
	<!--Third Tab-->
    <div id="stats" class="tabcontent">
	  <div id="main">
        <h1 id="header"><p>Stats</p></h1>
	  </div>
    </div>
  
  </body>
  <script type="text/javascript">
    function openPage(pageName, elmnt, color) {
    /* Hide all elements with class="tabcontent" by default */
      var i, tabcontent, tablinks;
      tabcontent = document.getElementsByClassName("tabcontent");
      for (i = 0; i < tabcontent.length; i++) {
          tabcontent[i].style.display = "none";
      }

    // Remove the background color of all tablinks/buttons
      tablinks = document.getElementsByClassName("tablink");
      for (i = 0; i < tablinks.length; i++) {
          tablinks[i].style.backgroundColor = "";
      }

    // Show the specific tab content
      document.getElementById(pageName).style.display = "block";

    // Add the specific color to the button used to open the tab content
      elmnt.style.backgroundColor = color;
}

// Get the element with id="defaultOpen" and click on it
    document.getElementById("defaultOpen").click();
	
  </script>

</html>
